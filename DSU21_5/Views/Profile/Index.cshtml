@model ProfileViewModel

@using Microsoft.AspNetCore.Identity
@using DSU21_5.Areas.Identity.Data
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{
    ViewData["Title"] = "Index";
}


<header id="gtco-simple-header" class="gtco-cover" role="banner" style="background-color: black;">
</header>

<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css" integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons">
    <link rel="stylesheet" href="~/css/profile.css">
</head>




<div class="profile-page">
    <div class="page-header header-filter" data-parallax="true" style="background-image:url('http://wallpapere.org/wp-content/uploads/2012/02/black-and-white-city-night.png');"></div>
    <div class="main main-raised">
        <div class="profile-content">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 ml-auto mr-auto">
                        <div class="profile">
                            <div class="avatar" style="height: 100px">
                                <img id="profile-pic" src="~/image/@Model.Member.ProfilePicture" fallback="~/images/profile.jpeg" alt="Profile Photo" class="img-raised rounded-circle img-fluid" />
                            </div>
                            <a asp-action="Edit" asp-route-id="@Model.Member.MemberId" class="editprofilepicture">Edit Profile</a>
                            <a asp-action="CreateExhibition" asp-route-id="@Model.Member.MemberId"><input type="submit" value="Create exhibition" class="editprofilepicture"></a>

                            <div class="name">
                             
                                <br />
                                <br />
                                <h3 class="title">@Model.Member.Firstname @Model.Member.Lastname</h3>

                                @if (Model.Member.Facebook != null)
                                {
                                    <a href="@Model.Member.Facebook" target="_blank">
                                        <img src="~/images/Facebook.png" id="social-icon" />
                                    </a>
                                }
                                @if (Model.Member.Twitter != null)
                                {
                                    <a href="@Model.Member.Twitter" target="_blank">
                                        <img src="~/images/Twitter.png" id="social-icon" />
                                    </a>
                                }
                                @if (Model.Member.Instagram != null)
                                {
                                    <a href="@Model.Member.Instagram" target="_blank">
                                        <img src="~/images/Instagram.png" id="social-icon" />
                                    </a>
                                }


                            </div>
                        </div>
                    </div>
                </div>
                <div class="description text-center">
                    <p id="bio">@Model.Member.Bio</p>
                </div>
                <div class="row">
                    <div class="col-md-6 ml-auto mr-auto">
                        <div class="profile-tabs">
                            <ul class="nav nav-pills nav-pills-icons justify-content-center" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" href="#studio" role="tab" data-toggle="tab">
                                        <i class="material-icons">palette</i>
                                        My Artworks
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" href="#favorite" role="tab" data-toggle="tab">
                                        <i class="material-icons">favorite</i>
                                        My Favorites
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="tab-content tab-space">
                    <div class="tab-pane active text-center gallery" id="studio">
                        <div class="row">
                            <div class="col-md-3 ml-auto">
                                @for (int i = 0; i < Model.AllArtwork.Count; i++)
                                {
                                    if (i % 2 == 1)
                                    {
                                        <img src="~/imagesArt/@Model.AllArtwork[i].ImageName" class="rounded">

                                    }
                                }
                            </div>
                            <div class="col-md-3 mr-auto">
                                @for (int i = 0; i < Model.AllArtwork.Count; i++)
                                {
                                    if (i % 2 == 0)
                                    {
                                        <img src="~/imagesArt/@Model.AllArtwork[i].ImageName" class="rounded">
                                    }
                                }
                            </div>
                        </div>
                    </div>
                    <div class="friends-container">

                        <div class="friend-requests">
                            <h1>Friend Requests</h1>

                            @foreach (var pendingFriend in Model.PendingFriends)
                            {
                                <div class="searched-person">
                                    <form method="get" asp-action="Index" asp-controller="Profile">
                                        <div class="person-info">
                                            <div class="search-img">
                                                <img id="profile-pic" src="~/image/@Model.Member.ProfilePicture" fallback="~/images/profile.jpeg" alt="Profile Photo" class="img-raised rounded-circle img-fluid" />
                                            </div>
                                            <div class="name-connection">
                                                <h2>@pendingFriend.Firstname @pendingFriend.Lastname</h2>
                                                <p>friend/mutual friend</p>
                                            </div>
                                        </div>
                                    </form>
                                    <form asp-controller="Profile" asp-action="AcceptFriendRequest" asp-route-id="@pendingFriend.MemberId">
                                        <input type="submit" value="Accept" class="btn btn-primary" />
                                    </form>
                                    <form asp-controller="Profile" asp-action="DeclineFriendRequest" asp-route-id="@pendingFriend.MemberId">
                                        <input type="submit" value="Decline" class="btn btn-primary" />
                                    </form>


                                </div>
                            }
                        </div>
                        <div class="friends-list">
                            <h1>Friends</h1>

                            @foreach (var friend in Model.AcceptedFriends)
                            {
                                <div class="searched-person">
                                    <form method="get" asp-action="Index" asp-controller="Profile">
                                        <div class="person-info">
                                            <div class="search-img">
                                                <img id="profile-pic" src="~/image/@Model.Member.ProfilePicture" fallback="~/images/profile.jpeg" alt="Profile Photo" class="img-raised rounded-circle img-fluid" />
                                            </div>
                                            <div class="name-connection">
                                                <h2>@friend.Firstname @friend.Lastname</h2>
                                                <p>friend/mutual friend</p>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            }

                        </div>

                    </div>
                    <div class="tab-pane text-center gallery" id="favorite">
                        <div class="row">
                            <div class="col-md-3 ml-auto">
                                <img src="https://images.unsplash.com/photo-1504346466600-714572c4b726?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=6754ded479383b7e3144de310fa88277&auto=format&fit=crop&w=750&q=80" class="rounded">
                                <img src="https://images.unsplash.com/photo-1494028698538-2cd52a400b17?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=83bf0e71786922a80c420c17b664a1f5&auto=format&fit=crop&w=334&q=80" class="rounded">
                            </div>
                            <div class="col-md-3 mr-auto">
                                <img src="https://images.unsplash.com/photo-1505784045224-1247b2b29cf3?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=ec2bdc92a9687b6af5089b335691830e&auto=format&fit=crop&w=750&q=80" class="rounded">
                                <img src="https://images.unsplash.com/photo-1524498250077-390f9e378fc0?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=83079913579babb9d2c94a5941b2e69d&auto=format&fit=crop&w=751&q=80" class="rounded">
                                <img src="https://images.unsplash.com/photo-1506667527953-22eca67dd919?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=6326214b7ce18d74dde5e88db4a12dd5&auto=format&fit=crop&w=750&q=80" class="rounded">
                            </div>
                        </div>
                    </div>
                </div>

                @*TODO: Fix favourites function or delete this
                    <div class="tab-pane text-center gallery" id="favorite">
                        <div class="row">
                            <div class="col-md-3 ml-auto">
                                <img src="https://images.unsplash.com/photo-1504346466600-714572c4b726?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=6754ded479383b7e3144de310fa88277&auto=format&fit=crop&w=750&q=80" class="rounded">
                                <img src="https://images.unsplash.com/photo-1494028698538-2cd52a400b17?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=83bf0e71786922a80c420c17b664a1f5&auto=format&fit=crop&w=334&q=80" class="rounded">
                            </div>
                            <div class="col-md-3 mr-auto">
                                <img src="https://images.unsplash.com/photo-1505784045224-1247b2b29cf3?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=ec2bdc92a9687b6af5089b335691830e&auto=format&fit=crop&w=750&q=80" class="rounded">
                                <img src="https://images.unsplash.com/photo-1524498250077-390f9e378fc0?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=83079913579babb9d2c94a5941b2e69d&auto=format&fit=crop&w=751&q=80" class="rounded">
                                <img src="https://images.unsplash.com/photo-1506667527953-22eca67dd919?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=6326214b7ce18d74dde5e88db4a12dd5&auto=format&fit=crop&w=750&q=80" class="rounded">
                            </div>
                        </div>
                    </div>*@
            </div>
        </div>
    </div>
   
</div>
 
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js" integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U" crossorigin="anonymous"></script>
<script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js" integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9" crossorigin="anonymous"></script>




