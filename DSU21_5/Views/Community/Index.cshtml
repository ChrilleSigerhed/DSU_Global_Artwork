@model CommunityViewModel

@{
    ViewData["Title"] = "Community";
    Layout = "_Layout";
}

<header id="gtco-simple-header" class="gtco-cover" role="banner" style="background-color: black; width: 100%;">
</header>

<div class="community-container">
    <div class="members-container">
        <input type="text" id="myInput" onkeyup="searchFunction()" placeholder="Search">
        <div class="col-12 col-md-7 align-self-center fh5co_mediya_right" id="noPaddingID">
            <div class="clearfix" id="fixed">
                <ul id="searchUL" style="display: none">
                    @for (int i = 0; i < Model.CommunityMembers.Count(); i++)
                    {
                        <li>
                            <a asp-action="Profile" asp-controller="Community" asp-route-id="@Model.CommunityMembers.ElementAt(i).MemberId">
                                <img class="search-Icon" src="image/@Model.CommunityMembers.ElementAt(i).ProfilePicture">
                                <p id="firstname">@Model.CommunityMembers.ElementAt(i).Firstname</p>
                                <p id="lastname">@Model.CommunityMembers.ElementAt(i).Lastname</p>

                            </a>
                        </li>
                    }
                </ul>

            </div>
        </div>
    </div>
</div>
<div class="col-md-12">
    @foreach (var member in Model.CommunityMembers)
    {
        <div class="member">
            <div class="member-img">
                <img src="image/@member.ProfilePicture" />
            </div>

            <div class="member-info">
                <h2>@member.Firstname @member.Lastname</h2>
                <a href="Community/Profile/@member.MemberId"><input type="submit" value="View profile" class="btn-primary-view" /></a>
            </div>
        </div>
    }
</div>
              
<script src="~/js/searchHandler.js"></script>
<script src="~/lib/signalr/signalr.js"></script>
<script src="~/js/site.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/3.1.7/signalr.min.js"></script>